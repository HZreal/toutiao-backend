# 存储



## 块存储

#### 介绍

主要是将裸磁盘空间整个映射给主机使用的。在物理层对外提供服务。使用它的主机系统，可以用自己的文件系统对磁盘进行格式化。如windows系统采用FAT32或NTFS格式化磁盘。

将数据拆分到任意划分且大小相同的卷中

块存储会采用映射的方式将这几个逻辑盘映射给主机

#### 应用

主要用于结构化数据

数据库应用是需要存储直接裸盘映射的

#### 优缺点

- 读写存储快
- 太过于底层，不利于扩展
- 主机之间数据无法共享
- 不利于不同操作系统主机间的数据共享：因为操作系统使用不同的文件系统，格式化后，不同的文件系统间的数据是共享不了的

#### 典型设备

磁盘阵列、硬盘

#### 使用场景

docker容器、虚拟机磁盘存储分配；日志存储；文件存储…



## 文件存储

在文件系统一层对外提供服务

以文件和文件夹的层次树结构来整理和呈现数据，

克服了文件无法共享的问题

#### 应用

是集中式或分布式的NAS类应用，以灵活的共享文件系统为特色，承载百万文件量和TB级别的文件类应用



#### 优缺点

- 可扩展，便于文件共享
- 读写、传输较慢

#### 典型设备

FTP、NFS服务器

#### 使用场景

日志存储；有目录结构的文件存储…



## 对象存储

会管理数据并将其链接至关联的元数据

结合了文件存储和块存储的优点，对象存储一般都是分布式存储。

对象存储将元数据独立出来了，控制节点叫元数据服务器，主要负责存储对象的属性。实际存储数据的分布式服务器叫做OSD，主要负责存储文件的数据部分。当用户访问对象，会先访问元数据服务器，元数据服务器只负责反馈对象存储在哪个OSD，用户就会再次直接访问对应的OSD服务器去读取数据。

#### 应用

非常适用于静态非结构化数据的存储

数据一次性完整写入，不可修改

#### 优缺点

- 具备块存储的读写高速。

- 具备文件存储的共享等特性

#### 典型设备

内置大容量硬盘的分布式服务器

#### 使用场景

图片存储；视频存储…



## 三者区别

块存储，是最底层的存储，它关注的是磁盘的基本存储单元——块，块存储可以没有软件服务器。

而文件存储（像NAS）和对象存储（S3、七牛云），是软件层面的存储，底层也是基于块存储的。

文件存储和对象存储的区别在于，他们组织文件的方式，文件存储是有目录树的、有标准属性的（权限、用户、读写），而对象存储是扁平的、没有目录的、附加属性是灵活的

